<main>
  <section class="user-data">
    <div>
      <div class="title">
        <h1>Login</h1>
      </div>
      <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
        <label>
          Username:
          <input formControlName="username" type="text" />
          <div
            *ngIf="
              loginForm.get('username')?.invalid &&
              loginForm.get('username')?.touched
            "
          >
            <small *ngIf="loginForm.get('username')?.errors?.['required']"
              >Username can't be empty</small
            >
          </div>
        </label>

        <label>
          Password:
          <input formControlName="password" type="password" />
          <div
            *ngIf="
              loginForm.get('password')?.invalid &&
              loginForm.get('password')?.touched
            "
          >
            <small *ngIf="loginForm.get('password')?.errors?.['required']"
              >Password can't be empty</small
            >
          </div>
        </label>

        <button type="submit" [disabled]="loginForm.invalid || isLoading">
          Login
        </button>
        <button (click)="logout()">Logout</button>
      </form>
    </div>
    <section *ngIf="isLoading">
      <p>Loading...</p>
    </section>

    <div
      class="data"
      *ngIf="userData"
      [routerLink]="['/auth/user', userData.id]"
    >
      <img src="{{ userData.image }}" alt="" />
      <p>id: {{ userData.id }}</p>
      <p>username: {{ userData.username }}</p>
      <p>First name: {{ userData.firstName }}</p>
      <p>Last name: {{ userData.lastName }}</p>
      <p>email: {{ userData.email }}</p>
      <p>gender: {{ userData.gender }}</p>
    </div>
  </section>
</main>
